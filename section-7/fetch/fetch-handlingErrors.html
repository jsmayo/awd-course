<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Fetch: Handling Errors</title>
</head>

<body>
  <button>MAKE A BAD REQUEST</button>
  <script>
  var btn = document.querySelector("button");
  btn.addEventListener("click", function() {
    var url = 'https://api.github.com/users/coltasdas';
    fetch(url)
      .then(handleErrors)
      .then(function(request) {
        console.log("EVERYTHING IS FINE!");
        console.log(request);
      })
      .catch(function(error) {
        console.log(error);
      });
  });

  function handleErrors(request) {
    if (!request.ok) {
      throw Error(request.status);
    }
    return request;
  }
  </script>
</body>

</html>